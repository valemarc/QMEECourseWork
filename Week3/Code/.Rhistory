install.packages("ggplot2")
library("ggplot2")
set.seed(1234567)
rnorm(1)
source('~/Documenti/QMEECourseWork/Week 3/Code/Sample_example.R')
MyData <- read.csv("../data/trees.csv", header = TRUE) # import with headers
MyData <- read.csv("../data/trees.csv", header = TRUE) # import with headers
MyData <- read.csv("../data/trees.csv", header = TRUE) # import with headers
MyData <- read.csv("../data/trees.csv", header = TRUE) # import with headers
setwd("~/Documenti/QMEECourseWork/Week 3/Code")
MyData <- read.csv("../data/trees.csv", header = TRUE) # import with headers
write.csv(MyData, "../results/MyData.csv") #write it out as a new file
write.csv(MyData, "../results/MyData.csv") #write it out as a new file
write.table(MyData[1,], file = "../results/MyData.csv",append=TRUE) # Append to it
write.csv(MyData, "../results/MyData.csv", row.names=TRUE) # write row names
write.table(MyData, "../results/MyData.csv", col.names=FALSE) # ignore column names
MyFunction <- function(Arg1, Arg2){
# Statements involving Arg1, Arg2:
print(paste("Argument", as.character(Arg1), "is a", class(Arg1))) # print Arg1's type
print(paste("Argument", as.character(Arg2), "is a", class(Arg2))) # print Arg2's type
return (c(Arg1, Arg2)) #this is optional, but very useful
}
MyFunction(1,2) #test the function
MyFunction("Riki","Tiki") #A different test
source("boilerplate.R")
# This function calculates heights of trees given distance of each tree
# from its base and angle to its top, using  the trigonometric formula
#
# height = distance * tan(radians)
#
# ARGUMENTS
# degrees:   The angle of elevation of tree
# distance:  The distance from base of tree (e.g., meters)
#
# OUTPUT
# The heights of the tree, same units as "distance"
TreeHeight <- function(degrees, distance){
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
return (height)
}
TreeHeight(37, 40)
## If statement
a <- TRUE
if (a == TRUE){
print ("a is TRUE")
} else {
print ("a is FALSE")
}
## On a single line
z <- runif(1) ##random number
if (z <= 0.5) {
print ("Less than a quarter")
}
z
## For loop using a sequence
for (i in 1:100){
j <- i * i
print(paste(i, " squared is", j ))
}
## For loop over vector of strings
for(species in c('Heliodoxa rubinoides',
'Boissonneaua jardini',
'Sula nebouxii'))
{
print(paste('The species is', species))
}
## for loop using a vector
v1 <- c("a","bc","def")
for (i in v1){
print(i)
}
## While loop
i <- 0
while (i<100){
i <- i+1
print(i^2)
}
i <- 0 #Initialize i
while(i < Inf) {
if (i == 20) {
break } # Break out of the while loop!
else {
cat("i equals " , i , " \n")
i <- i + 1 # Update i
}
}
MyData <- read.csv("../data/trees.csv")
head(MyData)
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
}
TreeHeight <- function(degrees, distance){
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
return (height)
}
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
}
TreeHeight <- function(degrees, distance){
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
}
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
write.csv(MyData, "../results/TreeHts.csv", append=TRUE, colnames = c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
}
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
#write.csv(MyData, "../results/TreeHts.csv", append=TRUE, colnames = c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
}
TreeHeight <- function(degrees, distance){
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
return(height)
}
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
#write.csv(MyData, "../results/TreeHts.csv", append=TRUE, colnames = c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
}
TreeHeight <- function(degrees, distance){
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
return(height)
}
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
#write.csv(MyData, "../results/TreeHts.csv", append=TRUE, colnames = c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
}
head(MyData)
test <- MyData[1,]
test
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
return(height)
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(paste("Tree height is:", height))
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
print(c(species, distance, degrees, height))
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
species
degrees
distrance
distance
height
print(paste(species, distance, degrees, height))
summary <- print(paste(species, distance, degrees, height))
write.csv(summary, "../results/TreeHts.csv", append=TRUE, colnames = c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
write.csv(summary, "../results/TreeHts.csv", colnames = c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
write.csv(summary, "../results/TreeHts.csv")
summary <- print(paste(species, distance, degrees, height), sep=",")
write.csv(summary, "../results/TreeHts.csv")
write.csv(summary, "../results/TreeHts.csv", append =TRUE)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = Height)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
dfrm
#summary <- print(paste(species, distance, degrees, height), sep=",")
write.csv(dfrm, "../results/TreeHts.csv")
TreeHeight <- function(degrees, distance){
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
}
TreeHeight <- function(degrees, distance){
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
}
for(i in MyData) {
result[[i]] <- TreeHeight(MyData)
write.csv(dfrm, "../results/TreeHts.csv", row.names = FALSE,append = TRUE, col.names = FALSE, sep = ", ")
}
for(i in MyData) {
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(dfrm, "../results/TreeHts.csv", row.names = FALSE,append = TRUE, col.names = FALSE, sep = ", ")
}
column_names <- c("Species","Distance.m","Angle.degrees","Tree.Height.m")
write.table(column_names, file = "TreeHts,csv", row.names = FALSE,
append = FALSE, col.names = FALSE, sep = ", ", quote = TRUE)
write.table(column_names, file = "../data/results/TreeHts.csv", row.names = FALSE,
append = FALSE, col.names = FALSE, sep = ", ", quote = TRUE)
write.table(column_names, file = "../results/TreeHts.csv", row.names = FALSE,
append = FALSE, col.names = FALSE, sep = ", ", quote = TRUE)
write.csv(file = "../results/TreeHts.csv", row.names = FALSE,
append = FALSE, col.names = colum_names, sep = ", ", quote = TRUE)
df <- data.frame(matrix(ncol = 4, nrow = 0))
hea(df)
head(df)
colnames(df) <-  c("Species","Distance.m","Angle.degrees","Tree.Height.m")
head(df)
TreeHeight <- function(degrees, distance){
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
}
df <- data.frame(matrix(ncol = 4, nrow = 0))
colnames(df) <- c("Species","Distance.m","Angle.degrees","Tree.Height.m")
for(i in MyData) {
df <- sapply(dfrm)
write.csv(dfrm, "../results/TreeHts.csv", row.names = FALSE,append = TRUE, col.names = FALSE, sep = ", ")
}
for(i in MyData) {
df <- sapply(dfrm, TreeHeight(x))
write.csv(dfrm, "../results/TreeHts.csv", row.names = FALSE,append = TRUE, col.names = FALSE, sep = ", ")
}
TreeHeight <- function(degrees, distance){
species <- test$Species
degrees <- test$Angle.degrees
distance <- test$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
}
for(i in MyData) {
write.csv(dfrm, "../results/TreeHts.csv", row.names = FALSE,append = TRUE, col.names = FALSE, sep = ", ")
}
TreeHeight <- function(degrees, distance){
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
}
for(i in MyData) {
write.csv(dfrm, "../results/TreeHts.csv", row.names = FALSE,append = TRUE, col.names = FALSE, sep = ", ")
}
TreeHeight(MyData)
for(i in MyData) {
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(dfrm(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file="../results/TreeHts.csv",append=TRUE)
}
for(i in MyData) {
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
#dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file="../results/TreeHts.csv",append=TRUE)
}
for(i in MyData) {
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
#dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file="../results/TreeHts.csv",append=TRUE, colnames=c("Species","Distance.m","Angle.degrees","Tree.Height.m"))
}
MyData <- read.csv("../data/trees.csv")
for(i in MyData) {
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
#dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file="../results/TreeHts.csv", append=TRUE))
}
for(i in MyData) {
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
#dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file="../results/TreeHts.csv", append=TRUE)
}
source('~/Documenti/QMEECourseWork/Week3/Code/TreeHeight.R')
help(commandArgs)
MyData <- read.csv("../data/trees.csv")
commandArgs(string MyData = "")
commandArgs(string inFile = "")
args <- commandArgs(TRUE)
batch_args <- read.table(args[1], sep=",")
args
MyData <- read.csv("../data/trees.csv")
args <- commandArgs(TRUE)
args
args <- commandArgs(TRUE)
batch_args <- read.table(args[1], sep=",")
#MyData <- read.csv("../data/trees.csv")
commandArgs(get_TreeHeight.R trees.csv)
#MyData <- read.csv("../data/trees.csv")
commandArgs(Rscript get_TreeHeight.R trees.csv)
ca = commandArgs(trailingOnly=TRUE)
eval(parse(text=ca))
print(read.csv(fn))
#MyData <- read.csv("../data/trees.csv")
args <- commandArgs(TRUE)
batch_args <- read.table(args[1], sep=",")
ca = commandArgs(trailingOnly=TRUE)
eval(parse(text=ca))
print(read.csv(fn))
ca = commandArgs(trailingOnly=TRUE)
ca
args
args[1]
ca = commandArgs(trailingOnly=FALSE)
ca[1]
ca = commandArgs(TRUE)
ca[1]
args[1]
args[1]
#ca = commandArgs(trailingOnly=TRUE)
eval(parse(text=args))
tab1=read.table(args[1],header=TRUE,fill=TRUE,stringsAsFactor=FALSE)
tab2=read.table(args[2],header=TRUE,fill=TRUE,stringsAsFactor=FALSE)
#MyData <- read.csv("../data/trees.csv")
args <- commandArgs(TRUE)
print(Args)
print(args)
args[1]
print(args)
args <- commandArgs(TRUE)
args
len(args)
length(args)
print(length(args))
args <- commandArgs(TRUE)
if (length(args) < 1){
print("No file specified, using default...")
filetoread <- "../data/trees.csv"
} else {
filetoread <- args[1]
}
print(filetoread)
MyData <- read.csv(filetoread)
print(length(args))
file_path_sans_ext("../data/trees.csv")
library("tools", lib.loc="/usr/lib/R/library")
file_path_sans_ext("../data/trees.csv")
basename("../data/trees.csv")
print(filetoread)
print(length(args))
MyData <- read.csv(filetoread)
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file="../results/TreeHts.csv", append=TRUE)
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
filetoread_m = basename(filetoread)
filetoread_m
filetoread_mod <- tools::file_path_sans_ext("trees.csv")
filetoread_mod
species <- MyData$Species
degrees <- MyData$Angle.degrees
distance <- MyData$Distance.m
radians <- degrees * pi / 180
height <- distance * tan(radians)
#print(paste("Tree height is:", height))
dfrm <- data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height)
filetoread_m = basename(filetoread)
filetoread_mod <- tools::file_path_sans_ext("trees.csv")
OutPath<- ../results/"
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file = paste0("filetoread_mod", "_treeheights.csv"), append=TRUE)
}
OutPath<- "../results/"
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file = paste0(outpath,filetoread_mod, "_treeheights.csv"), append=TRUE)
write.csv(data.frame(Species = species, Distance.m = distance, Angle.degrees = degrees, Tree.height.m = height),file = paste0(OutPath,filetoread_mod, "_treeheights.csv"), append=TRUE)
